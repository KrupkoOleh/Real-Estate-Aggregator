{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Real Estate Aggregator">
    <title>{% block title %}{% endblock %}</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap"
          rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/parts/header.css' %}">

    <script src="https://cdn.jsdelivr.net/npm/htmx.org@2.0.8/dist/htmx.min.js"
            integrity="sha384-/TgkGk7p307TH7EXJDuUlgG3Ce1UVolAOFopFekQkkXihi5u/6OCvVKyz1W+idaz"
            crossorigin="anonymous"></script>
    <script src="https://unpkg.com/hyperscript.org@0.9.14"></script>
    {% block extra_css %}{% endblock %}
</head>
<body>
{% block header %}
    {% include 'parts/header.html' %}
{% endblock header %}

<div id="loading-overlay">
    <div class="spinner"></div>
    <div class="loading-text">Processing... Please wait</div>
</div>

{% if messages %}
    <div class="messages" style="position: fixed; top: 20px; right: 20px; z-index: 1000; min-width: 300px;">
        {% for message in messages %}
            <div class="alert {% if message.tags %}alert-{{ message.tags }}{% endif %}"
                 style="padding: 15px; margin-bottom: 10px; border-radius: 4px; color: white; display: flex; justify-content: space-between; align-items: center;
                        {% if message.tags == 'success' %}background-color: #28a745;{% elif message.tags == 'error' %}background-color: #dc3545;{% else %}background-color: #007bff;{% endif %}">
                <span>{{ message }}</span>
                <span style="cursor: pointer; font-weight: bold; margin-left: 15px; font-size: 20px; line-height: 20px;"
                      _="on click remove closest .alert">
                    Ã—
                </span>
            </div>
        {% endfor %}
    </div>
{% endif %}

<main>
    {% block content %}
    {% endblock %}
</main>
{% block extra_js %}
{% endblock %}
</body>
</html>
